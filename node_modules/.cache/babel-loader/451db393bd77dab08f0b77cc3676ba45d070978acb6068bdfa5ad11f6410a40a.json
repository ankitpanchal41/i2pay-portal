{"ast":null,"code":"import { all, fork, put, takeEvery, call } from \"redux-saga/effects\";\nimport { setLoading } from \"../actions/Loader\";\nimport { addInvoiceEnd, ADD_INVOICE_START, editInvoiceEnd, EDIT_INVOICE_START, loginEnd } from \"../actions/PersistActions\";\nimport { apiRoutes } from \"../services/apiRoutes\";\nimport { authApiHandlerPost, getMerchantDetail } from \"../services/AuthService\";\nimport { DETAIL_START, LOGIN_START } from \"../types/Persist\";\nfunction* loginSaga(data) {\n  try {\n    yield put(setLoading(true));\n    const captchaVerifyResult = yield call(authApiHandlerPost, apiRoutes.captchaVerify, data === null || data === void 0 ? void 0 : data.captchaToken, false);\n    if (process.env.NODE_ENV === \"development\" || (captchaVerifyResult === null || captchaVerifyResult === void 0 ? void 0 : captchaVerifyResult.responseCode) === 200) {\n      const result = yield call(authApiHandlerPost, apiRoutes.merchantLoginNew, data === null || data === void 0 ? void 0 : data.payload);\n      if ((result === null || result === void 0 ? void 0 : result.responseCode) === 200) {\n        yield put(loginEnd(result));\n      }\n    }\n  } catch (error) {} finally {\n    yield put(setLoading(false));\n  }\n}\nfunction* detailSaga(data) {\n  try {\n    yield put(setLoading(true));\n    // const captchaVerifyResult = yield call(authApiHandler, apiRoutes.captchaVerify, data?.captchaToken, false);\n    // if (process.env.NODE_ENV === \"development\" || captchaVerifyResult?.responseCode === 200) {\n    const result = yield call(getMerchantDetail, data === null || data === void 0 ? void 0 : data.payload);\n    if ((result === null || result === void 0 ? void 0 : result.responseCode) === 200) {\n      yield put(loginEnd(result));\n    }\n    // }\n  } catch (error) {} finally {\n    yield put(setLoading(false));\n    data.callback();\n  }\n}\nfunction* addInvoiceSaga(data) {\n  try {\n    yield put(setLoading(true));\n    yield put(addInvoiceEnd(data.payload));\n  } catch (error) {} finally {\n    yield put(setLoading(false));\n    data.callback();\n  }\n}\nfunction* editInvoiceSaga(data) {\n  try {\n    yield put(setLoading(true));\n    yield put(editInvoiceEnd(data.payload));\n  } catch (error) {} finally {\n    yield put(setLoading(false));\n    data.callback();\n  }\n}\nfunction* watchLoginSaga() {\n  yield takeEvery(LOGIN_START, loginSaga);\n}\nfunction* watchDetailSaga() {\n  yield takeEvery(DETAIL_START, detailSaga);\n}\nfunction* watchAddInvoiceSaga() {\n  yield takeEvery(ADD_INVOICE_START, addInvoiceSaga);\n}\nfunction* watchEditInvoiceSaga() {\n  yield takeEvery(EDIT_INVOICE_START, editInvoiceSaga);\n}\nexport default function* rootSaga() {\n  yield all([fork(watchLoginSaga), fork(watchAddInvoiceSaga), fork(watchEditInvoiceSaga), fork(watchDetailSaga)]);\n}","map":{"version":3,"names":["all","fork","put","takeEvery","call","setLoading","addInvoiceEnd","ADD_INVOICE_START","editInvoiceEnd","EDIT_INVOICE_START","loginEnd","apiRoutes","authApiHandlerPost","getMerchantDetail","DETAIL_START","LOGIN_START","loginSaga","data","captchaVerifyResult","captchaVerify","captchaToken","process","env","NODE_ENV","responseCode","result","merchantLoginNew","payload","error","detailSaga","callback","addInvoiceSaga","editInvoiceSaga","watchLoginSaga","watchDetailSaga","watchAddInvoiceSaga","watchEditInvoiceSaga","rootSaga"],"sources":["/var/www/html/i2pay-portal/src/app/redux/sagas/PersistSaga.js"],"sourcesContent":["import { all, fork, put, takeEvery, call } from \"redux-saga/effects\";\nimport { setLoading } from \"../actions/Loader\";\nimport { addInvoiceEnd, ADD_INVOICE_START, editInvoiceEnd, EDIT_INVOICE_START, loginEnd } from \"../actions/PersistActions\";\nimport { apiRoutes } from \"../services/apiRoutes\";\n\nimport { authApiHandlerPost, getMerchantDetail } from \"../services/AuthService\";\nimport { DETAIL_START, LOGIN_START } from \"../types/Persist\";\n\nfunction* loginSaga(data) {\n    try {\n        yield put(setLoading(true));\n        const captchaVerifyResult = yield call(authApiHandlerPost, apiRoutes.captchaVerify, data?.captchaToken, false);\n        if (process.env.NODE_ENV === \"development\" || captchaVerifyResult?.responseCode === 200) {\n            const result = yield call(authApiHandlerPost, apiRoutes.merchantLoginNew, data?.payload);\n            if (result?.responseCode === 200) {\n                yield put(loginEnd(result));\n            }\n        }\n    } catch (error) {\n    } finally {\n        yield put(setLoading(false));\n    }\n}\n\nfunction* detailSaga(data) {\n    try {\n        yield put(setLoading(true));\n        // const captchaVerifyResult = yield call(authApiHandler, apiRoutes.captchaVerify, data?.captchaToken, false);\n        // if (process.env.NODE_ENV === \"development\" || captchaVerifyResult?.responseCode === 200) {\n        const result = yield call(getMerchantDetail, data?.payload);\n\n        if (result?.responseCode === 200) {\n            yield put(loginEnd(result));\n        }\n        // }\n    } catch (error) {\n    } finally {\n        yield put(setLoading(false));\n        data.callback();\n    }\n}\n\nfunction* addInvoiceSaga(data) {\n    try {\n        yield put(setLoading(true));\n        yield put(addInvoiceEnd(data.payload));\n    } catch (error) {\n    } finally {\n        yield put(setLoading(false));\n        data.callback();\n    }\n}\n\nfunction* editInvoiceSaga(data) {\n    try {\n        yield put(setLoading(true));\n        yield put(editInvoiceEnd(data.payload));\n    } catch (error) {\n    } finally {\n        yield put(setLoading(false));\n        data.callback();\n    }\n}\n\nfunction* watchLoginSaga() {\n    yield takeEvery(LOGIN_START, loginSaga);\n}\n\nfunction* watchDetailSaga() {\n    yield takeEvery(DETAIL_START, detailSaga);\n}\n\nfunction* watchAddInvoiceSaga() {\n    yield takeEvery(ADD_INVOICE_START, addInvoiceSaga);\n}\n\nfunction* watchEditInvoiceSaga() {\n    yield takeEvery(EDIT_INVOICE_START, editInvoiceSaga);\n}\n\nexport default function* rootSaga() {\n    yield all([fork(watchLoginSaga), fork(watchAddInvoiceSaga), fork(watchEditInvoiceSaga), fork(watchDetailSaga)]);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}