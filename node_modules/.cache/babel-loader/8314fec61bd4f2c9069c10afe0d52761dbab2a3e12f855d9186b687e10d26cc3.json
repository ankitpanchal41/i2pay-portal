{"ast":null,"code":"var _jsxFileName = \"/var/www/html/i2pay-portal/src/app/pages/EmailCampaigns/Create/Step1.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Formik, Form } from \"formik\";\nimport { messages } from \"../../../messages/merchantRegister\";\nimport { Step1EmailCampaignDetails } from \"../../../utils/validationSchema\";\nimport { addEmailCampaignData } from \"../../../redux/services/EmailCampaign\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Input = /*#__PURE__*/React.lazy(_c = () => import(\"../../../components/common/forms/Input\"));\n_c2 = Input;\nconst MiniLoader = /*#__PURE__*/React.lazy(_c3 = () => import(\"../../../components/common/MiniLoader\"));\n_c4 = MiniLoader;\nconst Step1 = ({\n  onSaveCurrentId,\n  onSaveCurrentStep,\n  id,\n  onChangeSection,\n  emailCampaignId\n}) => {\n  _s();\n  const initialValuesObj = {\n    name: \"\",\n    subject: \"\"\n  };\n  const [isSubmiting, setIsSubmiting] = useState(false);\n  const [initialValues, setInitialValues] = useState(initialValuesObj);\n  const {\n    detailEmailCampaign\n  } = useSelector(state => state.emailCampaign);\n  useEffect(() => {\n    if (emailCampaignId) {\n      setInitialValues({\n        name: detailEmailCampaign === null || detailEmailCampaign === void 0 ? void 0 : detailEmailCampaign.name,\n        subject: detailEmailCampaign === null || detailEmailCampaign === void 0 ? void 0 : detailEmailCampaign.subject\n      });\n    }\n  }, [detailEmailCampaign, emailCampaignId]);\n  const onSubmit = async values => {\n    setIsSubmiting(true);\n    const payload = {\n      ...values,\n      step: 1,\n      id: id ? id : undefined\n    };\n    const response = await addEmailCampaignData(payload);\n    if ((response === null || response === void 0 ? void 0 : response.responseCode) === 200) {\n      if (!id) {\n        var _response$data, _response$data2;\n        onSaveCurrentId(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.id);\n        onSaveCurrentStep(2);\n        const nextURL = `${window.location.origin}/email-campaigns/create/${response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.id}`;\n        const nextTitle = \"My new page title\";\n        const nextState = {\n          additionalInformation: \"Updated the URL with JS\"\n        };\n\n        // This will create a new entry in the browser's history, without reloading\n        window.history.pushState(nextState, nextTitle, nextURL);\n      }\n      onChangeSection();\n    }\n    setIsSubmiting(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-5 intro-y\",\n      children: /*#__PURE__*/_jsxDEV(Formik, {\n        initialValues: initialValues,\n        validationSchema: Step1EmailCampaignDetails,\n        onSubmit: onSubmit,\n        enableReinitialize: true,\n        children: ({\n          handleSubmit,\n          errors,\n          values,\n          setFieldValue,\n          touched,\n          isValid\n        }) => /*#__PURE__*/_jsxDEV(Form, {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-12 gap-4 gap-y-5 mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"intro-y col-span-12 sm:col-span-6\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                className: \"intro-x login__input form-control py-2 px-3 block\",\n                placeholder: messages.emailCampaign.step1.name,\n                name: \"name\",\n                label: messages.emailCampaign.step1.name,\n                isRequiredField: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"intro-y col-span-12 sm:col-span-6\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                className: \"intro-x login__input form-control py-2 px-3 block\",\n                placeholder: messages.emailCampaign.step1.subject,\n                name: \"subject\",\n                label: messages.emailCampaign.step1.subject,\n                extraLabel: /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-gray-500\",\n                  children: [\"(\", /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"Create a email subject for this campaign\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 50\n                  }, this), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 45\n                }, this),\n                isRequiredField: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"intro-y col-span-12 flex items-center justify-center sm:justify-end mt-5\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"buttons\",\n                className: \"btn btn-primary w-24 ml-2\",\n                onClick: handleSubmit,\n                disabled: isSubmiting,\n                children: [\"Save \", /*#__PURE__*/_jsxDEV(MiniLoader, {\n                  isLoading: isSubmiting\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 46\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Step1, \"lKB76C/QLZ7XTnA4dksmkeAZDIc=\", false, function () {\n  return [useSelector];\n});\n_c5 = Step1;\nexport default Step1;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Input$React.lazy\");\n$RefreshReg$(_c2, \"Input\");\n$RefreshReg$(_c3, \"MiniLoader$React.lazy\");\n$RefreshReg$(_c4, \"MiniLoader\");\n$RefreshReg$(_c5, \"Step1\");","map":{"version":3,"names":["React","useEffect","useState","Formik","Form","messages","Step1EmailCampaignDetails","addEmailCampaignData","useSelector","jsxDEV","_jsxDEV","Fragment","_Fragment","Input","lazy","_c","_c2","MiniLoader","_c3","_c4","Step1","onSaveCurrentId","onSaveCurrentStep","id","onChangeSection","emailCampaignId","_s","initialValuesObj","name","subject","isSubmiting","setIsSubmiting","initialValues","setInitialValues","detailEmailCampaign","state","emailCampaign","onSubmit","values","payload","step","undefined","response","responseCode","_response$data","_response$data2","data","nextURL","window","location","origin","nextTitle","nextState","additionalInformation","history","pushState","children","className","validationSchema","enableReinitialize","handleSubmit","errors","setFieldValue","touched","isValid","type","placeholder","step1","label","isRequiredField","fileName","_jsxFileName","lineNumber","columnNumber","extraLabel","onClick","disabled","isLoading","_c5","$RefreshReg$"],"sources":["/var/www/html/i2pay-portal/src/app/pages/EmailCampaigns/Create/Step1.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Formik, Form } from \"formik\";\nimport { messages } from \"../../../messages/merchantRegister\";\nimport { Step1EmailCampaignDetails } from \"../../../utils/validationSchema\";\nimport { addEmailCampaignData } from \"../../../redux/services/EmailCampaign\";\nimport { useSelector } from \"react-redux\";\n\nconst Input = React.lazy(() => import(\"../../../components/common/forms/Input\"));\nconst MiniLoader = React.lazy(() => import(\"../../../components/common/MiniLoader\"));\n\nconst Step1 = ({ onSaveCurrentId, onSaveCurrentStep, id, onChangeSection, emailCampaignId }) => {\n    const initialValuesObj = {\n        name: \"\",\n        subject: \"\",\n    };\n    const [isSubmiting, setIsSubmiting] = useState(false);\n    const [initialValues, setInitialValues] = useState(initialValuesObj);\n\n    const { detailEmailCampaign } = useSelector((state) => state.emailCampaign);\n\n    useEffect(() => {\n        if (emailCampaignId) {\n            setInitialValues({ name: detailEmailCampaign?.name, subject: detailEmailCampaign?.subject });\n        }\n    }, [detailEmailCampaign, emailCampaignId]);\n\n    const onSubmit = async (values) => {\n        setIsSubmiting(true);\n\n        const payload = { ...values, step: 1, id: id ? id : undefined };\n\n        const response = await addEmailCampaignData(payload);\n\n        if (response?.responseCode === 200) {\n            if (!id) {\n                onSaveCurrentId(response?.data?.id);\n                onSaveCurrentStep(2);\n                const nextURL = `${window.location.origin}/email-campaigns/create/${response?.data?.id}`;\n                const nextTitle = \"My new page title\";\n                const nextState = { additionalInformation: \"Updated the URL with JS\" };\n\n                // This will create a new entry in the browser's history, without reloading\n                window.history.pushState(nextState, nextTitle, nextURL);\n            }\n            onChangeSection();\n        }\n        setIsSubmiting(false);\n    };\n\n    return (\n        <>\n            <div className=\"pt-5 intro-y\">\n                <Formik initialValues={initialValues} validationSchema={Step1EmailCampaignDetails} onSubmit={onSubmit} enableReinitialize>\n                    {({ handleSubmit, errors, values, setFieldValue, touched, isValid }) => (\n                        <Form className=\"\">\n                            <div className=\"grid grid-cols-12 gap-4 gap-y-5 mt-4\">\n                                <div className=\"intro-y col-span-12 sm:col-span-6\">\n                                    <Input\n                                        type=\"text\"\n                                        className=\"intro-x login__input form-control py-2 px-3 block\"\n                                        placeholder={messages.emailCampaign.step1.name}\n                                        name=\"name\"\n                                        label={messages.emailCampaign.step1.name}\n                                        isRequiredField\n                                    />\n                                </div>\n                                <div className=\"intro-y col-span-12 sm:col-span-6\">\n                                    <Input\n                                        type=\"text\"\n                                        className=\"intro-x login__input form-control py-2 px-3 block\"\n                                        placeholder={messages.emailCampaign.step1.subject}\n                                        name=\"subject\"\n                                        label={messages.emailCampaign.step1.subject}\n                                        extraLabel={\n                                            <small className=\"text-gray-500\">\n                                                (<em>Create a email subject for this campaign</em>)\n                                            </small>\n                                        }\n                                        isRequiredField\n                                    />\n                                </div>\n                                <div className=\"intro-y col-span-12 flex items-center justify-center sm:justify-end mt-5\">\n                                    <button\n                                        type=\"buttons\"\n                                        className=\"btn btn-primary w-24 ml-2\"\n                                        onClick={handleSubmit}\n                                        disabled={isSubmiting}>\n                                        Save <MiniLoader isLoading={isSubmiting} />\n                                    </button>\n                                </div>\n                            </div>\n                        </Form>\n                    )}\n                </Formik>\n            </div>\n        </>\n    );\n};\nexport default Step1;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}