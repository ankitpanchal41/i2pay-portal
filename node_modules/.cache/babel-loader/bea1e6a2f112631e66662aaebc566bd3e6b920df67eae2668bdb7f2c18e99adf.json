{"ast":null,"code":"import { all, fork, put, takeEvery, call } from \"redux-saga/effects\";\nimport { deleteDirectorShareholderEnd, DELETE_DIRECTOR_SHAREHOLDER_START, editStepDataEnd, EDIT_STEP_DATA_START, getApplicationListEnd, getStepDataEnd, GET_APPLICATION_LIST_START, GET_CATEGORY_LIST_END, GET_CATEGORY_LIST_START, GET_STEP_DATA_START } from \"../actions/ApplicationAction\";\nimport { setLoading, SET_LOADER } from \"../actions/Loader\";\nimport { apiRoutes } from \"../services/apiRoutes\";\nimport { authApiHandlerPost, getCategoryListData } from \"../services/AuthService\";\nimport { handleApplicationList, handleDirectorShareholderDelete } from \"../services/Merchant\";\nfunction* getApplicationStepSaga(data) {\n  try {\n    // yield put(setLoading(true));\n    const result = yield call(authApiHandlerPost, apiRoutes.getApplicationStep, data === null || data === void 0 ? void 0 : data.payload, false);\n    if ((result === null || result === void 0 ? void 0 : result.responseCode) === 200) {\n      var _data$payload;\n      yield put(getStepDataEnd({\n        data: result === null || result === void 0 ? void 0 : result.data,\n        step: data === null || data === void 0 ? void 0 : (_data$payload = data.payload) === null || _data$payload === void 0 ? void 0 : _data$payload.step\n      }));\n    }\n  } catch (error) {} finally {\n    // yield put(setLoading(false));\n    data === null || data === void 0 ? void 0 : data.callback();\n  }\n}\nfunction* watchGetApplicationStepSaga() {\n  yield takeEvery(GET_STEP_DATA_START, getApplicationStepSaga);\n}\nfunction* editApplicationStepSaga(data) {\n  try {\n    // yield put(setLoading(true));\n    // yield put({ type: SET_LOADER, newState: true });\n\n    const result = yield call(authApiHandlerPost, apiRoutes.editApplicationStep(data === null || data === void 0 ? void 0 : data.stepNumber), data === null || data === void 0 ? void 0 : data.payload);\n    if ((result === null || result === void 0 ? void 0 : result.responseCode) === 200) {\n      let response = {};\n      Object.keys(data.values).forEach(item => {\n        var _result$data;\n        response[item] = result === null || result === void 0 ? void 0 : (_result$data = result.data) === null || _result$data === void 0 ? void 0 : _result$data[item];\n      });\n      yield put(editStepDataEnd({\n        data: response,\n        step: data === null || data === void 0 ? void 0 : data.stepNumber,\n        isCreate: false\n      }));\n      data === null || data === void 0 ? void 0 : data.callback(result);\n    }\n  } catch (error) {} finally {\n    // yield put(setLoading(false));\n    yield put({\n      type: SET_LOADER,\n      newState: false\n    });\n    data === null || data === void 0 ? void 0 : data.callback();\n  }\n}\nfunction* watchEditApplicationStepSaga() {\n  yield takeEvery(EDIT_STEP_DATA_START, editApplicationStepSaga);\n}\nfunction* getCategoryListSaga(data) {\n  try {\n    const result = yield call(getCategoryListData);\n    if ((result === null || result === void 0 ? void 0 : result.responseCode) === 200) {\n      yield put({\n        type: GET_CATEGORY_LIST_END,\n        data: result === null || result === void 0 ? void 0 : result.data\n      });\n    }\n  } catch (error) {} finally {\n    yield put({\n      type: SET_LOADER,\n      newState: false\n    });\n    data === null || data === void 0 ? void 0 : data.callback();\n  }\n}\nfunction* watchCategoryListSaga() {\n  yield takeEvery(GET_CATEGORY_LIST_START, getCategoryListSaga);\n}\nfunction* deleteApplicationSaga({\n  payload,\n  deleteType,\n  id,\n  callback\n}) {\n  try {\n    yield put(setLoading(true));\n    const result = yield call(handleDirectorShareholderDelete, payload, deleteType);\n    if ((result === null || result === void 0 ? void 0 : result.responseCode) === 200) {\n      yield put(deleteDirectorShareholderEnd(id, deleteType));\n      if (callback) {\n        callback();\n      }\n    }\n  } catch (error) {} finally {\n    yield put(setLoading(false));\n  }\n}\nfunction* watchDeleteApplicationSaga() {\n  yield takeEvery(DELETE_DIRECTOR_SHAREHOLDER_START, deleteApplicationSaga);\n}\nfunction* getApplicationListSaga({\n  callback\n}) {\n  try {\n    const result = yield call(handleApplicationList);\n    if ((result === null || result === void 0 ? void 0 : result.responseCode) === 200) {\n      yield put(getApplicationListEnd(result === null || result === void 0 ? void 0 : result.data));\n    }\n  } catch (error) {} finally {\n    callback();\n  }\n}\nfunction* watchGetApplicationListSaga() {\n  yield takeEvery(GET_APPLICATION_LIST_START, getApplicationListSaga);\n}\nexport default function* rootSaga() {\n  yield all([fork(watchGetApplicationStepSaga), fork(watchEditApplicationStepSaga), fork(watchDeleteApplicationSaga), fork(watchGetApplicationListSaga), fork(watchCategoryListSaga)]);\n}","map":{"version":3,"names":["all","fork","put","takeEvery","call","deleteDirectorShareholderEnd","DELETE_DIRECTOR_SHAREHOLDER_START","editStepDataEnd","EDIT_STEP_DATA_START","getApplicationListEnd","getStepDataEnd","GET_APPLICATION_LIST_START","GET_CATEGORY_LIST_END","GET_CATEGORY_LIST_START","GET_STEP_DATA_START","setLoading","SET_LOADER","apiRoutes","authApiHandlerPost","getCategoryListData","handleApplicationList","handleDirectorShareholderDelete","getApplicationStepSaga","data","result","getApplicationStep","payload","responseCode","_data$payload","step","error","callback","watchGetApplicationStepSaga","editApplicationStepSaga","editApplicationStep","stepNumber","response","Object","keys","values","forEach","item","_result$data","isCreate","type","newState","watchEditApplicationStepSaga","getCategoryListSaga","watchCategoryListSaga","deleteApplicationSaga","deleteType","id","watchDeleteApplicationSaga","getApplicationListSaga","watchGetApplicationListSaga","rootSaga"],"sources":["/var/www/html/i2pay-portal/src/app/redux/sagas/ApplicationSaga.js"],"sourcesContent":["import { all, fork, put, takeEvery, call } from \"redux-saga/effects\";\nimport {\n    deleteDirectorShareholderEnd,\n    DELETE_DIRECTOR_SHAREHOLDER_START,\n    editStepDataEnd,\n    EDIT_STEP_DATA_START,\n    getApplicationListEnd,\n    getStepDataEnd,\n    GET_APPLICATION_LIST_START,\n    GET_CATEGORY_LIST_END,\n    GET_CATEGORY_LIST_START,\n    GET_STEP_DATA_START,\n} from \"../actions/ApplicationAction\";\nimport { setLoading, SET_LOADER } from \"../actions/Loader\";\nimport { apiRoutes } from \"../services/apiRoutes\";\n\nimport { authApiHandlerPost, getCategoryListData } from \"../services/AuthService\";\nimport { handleApplicationList, handleDirectorShareholderDelete } from \"../services/Merchant\";\n\nfunction* getApplicationStepSaga(data) {\n    try {\n        // yield put(setLoading(true));\n        const result = yield call(authApiHandlerPost, apiRoutes.getApplicationStep, data?.payload, false);\n        if (result?.responseCode === 200) {\n            yield put(getStepDataEnd({ data: result?.data, step: data?.payload?.step }));\n        }\n    } catch (error) {\n    } finally {\n        // yield put(setLoading(false));\n        data?.callback();\n    }\n}\n\nfunction* watchGetApplicationStepSaga() {\n    yield takeEvery(GET_STEP_DATA_START, getApplicationStepSaga);\n}\n\nfunction* editApplicationStepSaga(data) {\n    try {\n        // yield put(setLoading(true));\n        // yield put({ type: SET_LOADER, newState: true });\n\n        const result = yield call(authApiHandlerPost, apiRoutes.editApplicationStep(data?.stepNumber), data?.payload);\n        if (result?.responseCode === 200) {\n            let response = {};\n            Object.keys(data.values).forEach((item) => {\n                response[item] = result?.data?.[item];\n            });\n            yield put(editStepDataEnd({ data: response, step: data?.stepNumber, isCreate: false }));\n            data?.callback(result);\n        }\n    } catch (error) {\n    } finally {\n        // yield put(setLoading(false));\n        yield put({ type: SET_LOADER, newState: false });\n        data?.callback();\n    }\n}\n\nfunction* watchEditApplicationStepSaga() {\n    yield takeEvery(EDIT_STEP_DATA_START, editApplicationStepSaga);\n}\n\nfunction* getCategoryListSaga(data) {\n    try {\n        const result = yield call(getCategoryListData);\n        if (result?.responseCode === 200) {\n            yield put({\n                type: GET_CATEGORY_LIST_END,\n                data: result?.data,\n            });\n        }\n    } catch (error) {\n    } finally {\n        yield put({ type: SET_LOADER, newState: false });\n        data?.callback();\n    }\n}\n\nfunction* watchCategoryListSaga() {\n    yield takeEvery(GET_CATEGORY_LIST_START, getCategoryListSaga);\n}\n\nfunction* deleteApplicationSaga({ payload, deleteType, id, callback }) {\n    try {\n        yield put(setLoading(true));\n        const result = yield call(handleDirectorShareholderDelete, payload, deleteType);\n\n        if (result?.responseCode === 200) {\n            yield put(deleteDirectorShareholderEnd(id, deleteType));\n            if (callback) {\n                callback();\n            }\n        }\n    } catch (error) {\n    } finally {\n        yield put(setLoading(false));\n    }\n}\n\nfunction* watchDeleteApplicationSaga() {\n    yield takeEvery(DELETE_DIRECTOR_SHAREHOLDER_START, deleteApplicationSaga);\n}\n\nfunction* getApplicationListSaga({ callback }) {\n    try {\n        const result = yield call(handleApplicationList);\n\n        if (result?.responseCode === 200) {\n            yield put(getApplicationListEnd(result?.data));\n        }\n    } catch (error) {\n    } finally {\n        callback();\n    }\n}\n\nfunction* watchGetApplicationListSaga() {\n    yield takeEvery(GET_APPLICATION_LIST_START, getApplicationListSaga);\n}\n\nexport default function* rootSaga() {\n    yield all([\n        fork(watchGetApplicationStepSaga),\n        fork(watchEditApplicationStepSaga),\n        fork(watchDeleteApplicationSaga),\n        fork(watchGetApplicationListSaga),\n        fork(watchCategoryListSaga),\n    ]);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}